# ğŸš€ Node.js èŠå¤©åç«¯

ä¸€ä¸ªåŸºäºNode.jsçš„WebSocketèŠå¤©åº”ç”¨åç«¯ï¼Œå®Œå…¨å…¼å®¹Goç‰ˆæœ¬çš„æ‰€æœ‰åŠŸèƒ½ã€‚

## ğŸ“– æ–‡æ¡£å¯¼èˆª

- ğŸ“š **[å®Œæ•´APIæ–‡æ¡£](API_DOCUMENTATION.md)** - è¯¦ç»†çš„APIæ¥å£è¯´æ˜  
- ğŸš€ **[å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICK_START.md)** - 5åˆ†é’Ÿå¿«é€Ÿä½“éªŒ
- ğŸ—ï¸ **[éƒ¨ç½²æŒ‡å—](DEPLOYMENT_GUIDE.md)** - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²é…ç½®
- âš™ï¸ **[æ•°æ®åº“é…ç½®](database-config.md)** - æ•°æ®åº“ä¼˜åŒ–è¯´æ˜

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### ğŸ‘¤ ç”¨æˆ·ç®¡ç†
- âœ… ç”¨æˆ·æ³¨å†Œ/ç™»å½•ï¼ˆJWTè®¤è¯ï¼‰
- âœ… ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹
- âœ… å¤´åƒä¸Šä¼ 
- âœ… ç”¨æˆ·è¯¦æƒ…æŸ¥è¯¢
- âœ… å¥½å‹ç®¡ç†ç³»ç»Ÿ
- âœ… ç”¨æˆ·æœç´¢

### ğŸ“¨ æ¶ˆæ¯å¤„ç†
- âœ… å®æ—¶WebSocketé€šä¿¡
- âœ… å•èŠ/ç¾¤èŠæ¶ˆæ¯
- âœ… å¤šåª’ä½“æ¶ˆæ¯ï¼ˆæ–‡å­—/å›¾ç‰‡/éŸ³é¢‘/è§†é¢‘/æ–‡ä»¶ï¼‰
- âœ… æ¶ˆæ¯å†å²æŸ¥è¯¢
- âœ… æ¶ˆæ¯æŒä¹…åŒ–å­˜å‚¨

### ğŸ‘¥ ç¾¤ç»„åŠŸèƒ½
- âœ… åˆ›å»º/åŠ å…¥ç¾¤ç»„
- âœ… ç¾¤ç»„æˆå‘˜ç®¡ç†
- âœ… ç¾¤èŠæ¶ˆæ¯åˆ†å‘
- âœ… ç¾¤ç»„ä¿¡æ¯ä¿®æ”¹

### ğŸ“ æ–‡ä»¶å¤„ç†
- âœ… æ–‡ä»¶ä¸Šä¼ ä¸‹è½½
- âœ… å›¾ç‰‡å¤„ç†
- âœ… æ–‡ä»¶ç±»å‹è¯†åˆ«
- âœ… é™æ€æ–‡ä»¶æœåŠ¡

### ğŸ”§ ç³»ç»ŸåŠŸèƒ½
- âœ… é«˜æ€§èƒ½æ—¥å¿—ç³»ç»Ÿï¼ˆWinstonï¼‰
- âœ… æ•°æ®åº“è¿æ¥æ± 
- âœ… è¯·æ±‚é™æµå’Œå®‰å…¨é˜²æŠ¤
- âœ… é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æ¢å¤
- âœ… ç¯å¢ƒé…ç½®ç®¡ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- MySQL >= 8.0
- npm æˆ– yarn

### å®‰è£…ä¾èµ–
\`\`\`bash
npm install
# æˆ–
yarn install
\`\`\`

### ç¯å¢ƒé…ç½®
\`\`\`bash
# å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘æ•°æ®åº“é…ç½®
vim .env
\`\`\`

### æ•°æ®åº“é…ç½®
åœ¨MySQLä¸­åˆ›å»ºæ•°æ®åº“ï¼š
\`\`\`sql
CREATE DATABASE chat CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
\`\`\`

### å¯åŠ¨æœåŠ¡
\`\`\`bash
# å¼€å‘ç¯å¢ƒ
npm run dev

# ç”Ÿäº§ç¯å¢ƒ
npm start
\`\`\`

æœåŠ¡å°†åœ¨ \`http://localhost:8888\` å¯åŠ¨

## ğŸ“¡ APIæ¥å£

### ç”¨æˆ·ç›¸å…³
- \`POST /api/user/register\` - ç”¨æˆ·æ³¨å†Œ
- \`POST /api/user/login\` - ç”¨æˆ·ç™»å½•
- \`GET /api/user/:uuid\` - è·å–ç”¨æˆ·è¯¦æƒ…
- \`PUT /api/user\` - ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
- \`GET /api/user\` - è·å–å¥½å‹åˆ—è¡¨
- \`GET /api/user/name\` - æœç´¢ç”¨æˆ·/ç¾¤ç»„

### å¥½å‹ç®¡ç†
- \`POST /api/friend\` - æ·»åŠ å¥½å‹

### æ¶ˆæ¯ç›¸å…³
- \`GET /api/message\` - è·å–æ¶ˆæ¯å†å²
- WebSocketè¿æ¥: \`ws://localhost:8888/socket.io\`

### ç¾¤ç»„ç®¡ç†
- \`GET /api/group/:uuid\` - è·å–ç¾¤ç»„åˆ—è¡¨
- \`POST /api/group/:uuid\` - åˆ›å»ºç¾¤ç»„
- \`POST /api/group/join/:userUuid/:groupUuid\` - åŠ å…¥ç¾¤ç»„
- \`GET /api/group/user/:uuid\` - è·å–ç¾¤ç»„æˆå‘˜

### æ–‡ä»¶å¤„ç†
- \`POST /api/file\` - æ–‡ä»¶ä¸Šä¼ 
- \`GET /api/file/:fileName\` - æ–‡ä»¶ä¸‹è½½

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

\`\`\`
src/
â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ controllers/        # APIæ§åˆ¶å™¨
â”œâ”€â”€ middleware/         # ä¸­é—´ä»¶
â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”œâ”€â”€ routes/            # è·¯ç”±å®šä¹‰
â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ socket/            # WebSocketå¤„ç†
â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â””â”€â”€ server.js          # æœåŠ¡å…¥å£
\`\`\`

## ğŸ”§ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Express.js
- **å®æ—¶é€šä¿¡**: Socket.IO
- **æ•°æ®åº“**: MySQL + Sequelize ORM
- **è®¤è¯**: JWT
- **æ—¥å¿—**: Winston
- **å®‰å…¨**: Helmet, Rate Limiting
- **éªŒè¯**: Joi
- **æ–‡ä»¶å¤„ç†**: Multer

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| åŠŸèƒ½ | Goç‰ˆæœ¬ | Node.jsç‰ˆæœ¬ | æ€§èƒ½å·®å¼‚ |
|------|--------|-------------|----------|
| HTTP API | âœ… | âœ… | ç›¸å½“ |
| WebSocket | âœ… | âœ… | Node.jsç¨æ…¢ |
| æ•°æ®åº“ | âœ… | âœ… | ç›¸å½“ |
| æ–‡ä»¶ä¸Šä¼  | âœ… | âœ… | Goç¨å¿« |
| å¹¶å‘å¤„ç† | âœ… | âœ… | Goæ›´å¿« |

## ğŸ”„ ä¸Goç‰ˆæœ¬å…¼å®¹æ€§

- âœ… ç›¸åŒçš„APIæ¥å£
- âœ… ç›¸åŒçš„æ•°æ®ç»“æ„
- âœ… ç›¸åŒçš„åè®®æ ¼å¼
- âœ… äº’æ“ä½œçš„å‰ç«¯å®¢æˆ·ç«¯

## ğŸ“ å¼€å‘è¯´æ˜

è¯¥é¡¹ç›®å®Œå…¨å®ç°äº†Goç‰ˆæœ¬çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶æä¾›ï¼š
- å®Œæ•´çš„é”™è¯¯å¤„ç†
- è¯¦ç»†çš„APIæ–‡æ¡£
- æ¨¡å—åŒ–çš„ä»£ç ç»“æ„
- é«˜æ€§èƒ½çš„å¹¶å‘å¤„ç†
- ç”Ÿäº§çº§çš„éƒ¨ç½²é…ç½®
